# Todo List Application

Полнофункциональное веб-приложение для управления задачами с аутентификацией пользователей.

## 🚀 Технологии

### Backend
- **Node.js** - серверная среда выполнения
- **Express.js** - веб-фреймворк
- **Sequelize** - ORM для работы с базой данных
- **SQLite** - база данных
- **JWT** - аутентификация
- **bcrypt** - хеширование паролей
- **CORS** - кросс-доменные запросы
- **Morgan** - логирование HTTP запросов

### Frontend
- **React.js** - пользовательский интерфейс
- **React Router** - навигация
- **Axios** - HTTP клиент
- **CSS** - стилизация

## 📁 Структура проекта

```
todolist1/
├── app.js                 # Главный файл сервера
├── package.json           # Зависимости сервера
├── data.sqlite           # База данных SQLite
├── client/               # React приложение
│   ├── src/
│   │   ├── App.js
│   │   ├── component/Todo/
│   │   │   └── ToDoItem.jsx
│   │   └── pages/
│   │       ├── Login.jsx
│   │       └── Tasks.jsx
│   └── package.json
└── server/               # Серверная часть
    ├── middleware/
    │   └── auth.js
    ├── models/
    │   ├── index.js
    │   ├── task.js
    │   └── user.js
    ├── routes/
    │   ├── auth.js
    │   ├── tasks.js
    │   └── users.js
    └── utils/
        └── seed.js
```

## 🛠️ Установка и запуск

### Предварительные требования
- Node.js (версия 14 или выше)
- npm или yarn

### Установка зависимостей

1. **Клонируйте репозиторий:**
```bash
git clone <repository-url>
cd todolist1
```

2. **Установите зависимости сервера:**
```bash
npm install
```

3. **Установите зависимости клиента:**
```bash
cd client
npm install
cd ..
```

### Запуск приложения

#### Режим разработки

1. **Инициализируйте базу данных (ВАЖНО!):**
```bash
node server/utils/seed.js
```
Этот скрипт создаст тестовых пользователей и задачи в базе данных.

2. **Запустите сервер:**
```bash
npm run dev
```
Сервер будет доступен по адресу: http://localhost:8000

3. **Запустите клиент (в новом терминале):**
```bash
npm run client
```
Клиент будет доступен по адресу: http://localhost:3000

#### Продакшн режим

1. **Инициализируйте базу данных (ВАЖНО!):**
```bash
node server/utils/seed.js
```
Этот скрипт создаст тестовых пользователей и задачи в базе данных.

2. **Запустите сервер:**
```bash
npm start
```

3. **Соберите клиент:**
```bash
cd client
npm run build
cd ..
```

## 📋 API Endpoints

### Аутентификация
- `POST /api/auth/register` - Регистрация пользователя
- `POST /api/auth/login` - Вход в систему

### Задачи
- `GET /api/tasks` - Получить все задачи пользователя
- `POST /api/tasks` - Создать новую задачу
- `PUT /api/tasks/:id` - Обновить задачу
- `DELETE /api/tasks/:id` - Удалить задачу

### Пользователи
- `GET /api/users/profile` - Получить профиль пользователя
- `PUT /api/users/profile` - Обновить профиль пользователя

## 🔧 Доступные скрипты

- `npm start` - Запуск сервера в продакшн режиме
- `npm run dev` - Запуск сервера в режиме разработки с nodemon
- `npm run client` - Запуск React приложения
- `npm run format` - Форматирование кода с Prettier

## 🗄️ База данных

Приложение использует SQLite базу данных. При первом запуске база данных будет автоматически создана и синхронизирована с моделями Sequelize.

**⚠️ Важно:** После установки зависимостей необходимо запустить seed-скрипт для создания тестовых данных:
```bash
node server/utils/seed.js
```

Без этого скрипта база данных будет пуста, и вы не сможете войти в систему.

## 🔐 Аутентификация

Приложение использует JWT токены для аутентификации. После успешного входа в систему, токен сохраняется в localStorage и автоматически добавляется к каждому запросу.

### Тестовые учетные записи

После запуска `node server/utils/seed.js` в базе данных будут созданы следующие тестовые пользователи:

**Менеджер:**
- Логин: `manager`
- Пароль: `password123`

**Сотрудники:**
- Логин: `employee1`, Пароль: `password123`
- Логин: `employee2`, Пароль: `password123`

> **Важно:** Если вы получаете ошибку "Пользователь с таким логином не существует", убедитесь, что вы запустили seed-скрипт перед запуском сервера.

## 📝 Функциональность

- ✅ Регистрация и вход пользователей
- ✅ Создание, редактирование и удаление задач
- ✅ Отметка задач как выполненных
- ✅ Защищенные маршруты
- ✅ Валидация данных
- ✅ Современный пользовательский интерфейс